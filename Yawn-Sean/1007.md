#### [I. Weird Divisibility](https://codeforces.com/gym/104822/problem/I)

**é¢˜æ„ï¼š** ç»™å‡ºä¸€ä¸ªæ•°aï¼Œä½ éœ€è¦æ‰¾å‡ºä¸€ä¸ªæœ€å°çš„æ­£æ•´æ•°bä½¿å¾— $(a + b) | ab$ 

å…³é”®åœ¨äºæ¡ä»¶çš„è½¬åŒ–ï¼Œæˆ‘ä»¬å·²çŸ¥ $(a + b) | ab$ ï¼Œåªæœ‰è¿™ä¸ªæ˜¯ä¸å¤Ÿçš„ï¼Œæˆ‘ä»¬éœ€è¦å¯»æ‰¾æ–°çš„å…³ç³»ï¼Œè€Œä¸æ˜¯ç»§ç»­åœ¨è¿™ä¸ªå…³ç³»ä¸­ç»§ç»­æï¼ï¼ï¼æˆ‘ä»¬ç®€å•è°ƒæ•´ä¸€ä¸‹å¯ä»¥å‘ç°ä¸€ä¸ªæ–°çš„å¼å­ $(a + b) | a(a + b)$ ï¼Œä¸¤ä¸ªç›¸å‡å°±ä¼šå¾—åˆ°æ–°çš„å…³ç³» $(a + b) | a^2$ ï¼Œæ‰€ä»¥æœ€åçš„ç»“æœå°±æ˜¯æ‰¾åˆ° $a^2$ çš„å¤§äºaçš„æœ€å°çš„å› å­å°±æ‰¾åˆ°bäº†

å®é™…ç®—çš„æ—¶å€™æˆ‘ä»¬å¯ä»¥å®¹æ˜“åˆ†è§£å‡ºaçš„è´¨å› å­ï¼Œ$a^2$ å°±ç›¸å½“äºä»açš„å› å­å®¹å™¨é‡Œé¢é€‰æ‹©ä¸¤ä¸ªï¼Œæ ¹æ®å› å­çš„å¯¹ç§°æ€§ï¼Œæ‰¾åˆ°å°äºaçš„æœ€å¤§çš„å› å­ï¼Œåè¿‡æ¥å°±å¯ä»¥æ‰¾åˆ°å¦ä¸€ä¸ª

å°†å› å­æ’åºåfac[i] * fac[n - i - 1] = nçš„ï¼Œæˆ‘ä»¬å°±é”™å¼€ä¸€ä½ï¼Œå»è®¡ç®—fac[i] * fac[n - i - 2]ï¼Œå·²çŸ¥å¾ªç¯å°±æ‰¾åˆ°ç»“æœäº†

ğŸ“–é€šè¿‡è´¨å› æ•°åˆ†è§£æ‰¾å‡ºæ‰€æœ‰çš„å› æ•°ï¼Œå› æ•°æœ‰å¯¹ç§°æ€§

```cpp[]
vector<int> is(40000, true);
vector<int> prime;
void init(){
    is[0] = is[1] = false;
    for (int i = 1; i <= 40000; i++) {
        if(is[i])
            prime.emplace_back(i);
        for(int p : prime) {
            if(p * i > 40000) break;
            is[p * i] = false;
            if(i % p == 0) break;
        }
    }
}

void solve(){
    int a;
    cin >> a;
    int n = a;
    map<int, int> mp;
    for(int p : prime) {
        if(n % p == 0) {
            while(n % p == 0)
                mp[p]++, n /= p;
        }
    }
    if(n > 1) mp[n]++;
    vector<int> fac = {1};
    for(auto[p, cnt] : mp) {
        int c = cnt * fac.size();
        fore(i, 0, c) fac.emplace_back(fac[i] * p);
    }
    sort(fac.begin(), fac.end());
    int ans = a * a;
    for (int i = 0; i < fac.size() - 1; i++) {
        int val = fac[i] * fac[fac.size() - i - 2];
        ans = min(ans, a * a / val - a);
    }
    cout << ans << endl;
}
```

#### [F. Unlock the Chest](https://codeforces.com/gym/106100/problem/F)

**é¢˜æ„ï¼š** ç»™å‡ºä¸¤ä¸ªé•¿åº¦ä¸ºnçš„æ•°ç»„ï¼Œæ¯æ¬¡äº¤æ¢æ“ä½œæŒ‡çš„æ˜¯å¯¹äºç›¸é‚»çš„ä¸€å¯¹(i, j)ï¼Œ $a[i] = a[j] - 1, a[j] = a[i] + 1$ é—®aèƒ½å¦é€šè¿‡è¿™æ ·çš„æ“ä½œå˜æˆbï¼Œå¦‚æœå¯ä»¥è¾“å‡ºæœ€å°‘æ“ä½œæ¬¡æ•°ï¼Œä¸èƒ½è¾“å‡º-1

è¿™é‡Œè¿™ä¸ªåŠ ä¸€å‡ä¸€çš„æ“ä½œå’Œå¥‡æ€ªï¼Œæƒ³æƒ³æ€ä¹ˆæŠŠä»–å¤„ç†æ‰

å¯ä»¥æƒ³æƒ³å¯¹æ•°ç»„åšä¸€ä¸ªå¤„ç†å†è¿˜åŸå›å»ï¼Œè®©è¿˜åŸçš„ç»“æœå°±æ˜¯é¢˜ç›®çš„äº¤æ¢æ“ä½œ

å‘ç°åé¢ä¸€ä¸ªæ•°å°±æ˜¯å…ˆå‡å»ä¸€ä¸ªæ•°xï¼Œå†åŠ ä¸Šx - 1ï¼Œå‰ä¸€ä¸ªæ˜¯å‡å»yå†åŠ ä¸Šy + 1ï¼Œè¿™é‡Œå°±å¯ä»¥çœ‹å‡ºæ˜¯å’Œä¸‹æ ‡æœ‰å…³ç³»äº†ï¼Œå¦‚æœè®©æ¯ä¸ªä½ç½®çš„æ•°éƒ½å‡å»ä¸‹æ ‡ï¼Œå°±å˜æˆä¸€ä¸ªæ™®é€šçš„äº’æ¢

ä¹‹åå°±æ˜¯å¯¹äºæ•°ç»„aï¼Œæœ€å°‘äº¤æ¢å¤šå°‘æ¬¡å¾—åˆ°bï¼Œè¿™é‡Œè¦ç”¨åˆ°å†’æ³¡æ’åºçš„åŸç†ï¼Œå°†aæ•°ç»„çš„å…ƒç´ æ˜ å°„æˆè¿™ä¸ªå…ƒç´ åœ¨nä¸­çš„ä½ç½®ï¼Œä¹‹åæ±‚ä¸€ä¸ªé€†åºæ•°å°±æ˜¯äº¤æ¢æ¬¡æ•°

æ³¨æ„å‰é¢çš„å…ƒç´ åˆ°å¯¹åº”bä¸­æ›´é å‰çš„è¿™ä¸ªæ•°

```cpp[]
class Fenwick{
public:
    int n;
    vector<int> tree;
    Fenwick(int n) : n(n), tree(n + 1) {}
    void add(int x, int val) {
        while(x <= n) {
            tree[x] += val;
            x += lowbit(x);
        }
    }
    int query(int x) {
        int ans = 0;
        while(x) {
            ans += tree[x];
            x -= lowbit(x);
        }
        return ans;
    }
};

void solve(){
    int n;
    cin >> n;
    vector<int> a(n + 1), b = a;
    fore(i, 1, n + 1) cin >> a[i], a[i] -= i;
    fore(i, 1, n + 1) cin >> b[i], b[i] -= i;

    map<int, vector<int>> mp;
    fore(i, 1, n + 1) mp[b[i]].emplace_back(i);
    for (int i = n; i >= 1; i--) {
        auto it = mp.find(a[i]);
        if(it == mp.end() || it->second.empty()) {
            cout << -1 << endl;
            return;
        }
        a[i] = it->second.back();
        it->second.pop_back();
    }
    Fenwick fen(n);
    int ans = 0;
    fore(i, 1, n + 1) {
        fen.add(a[i], 1);
        ans += i - fen.query(a[i]);
    }
    cout << ans << endl;
}
```
