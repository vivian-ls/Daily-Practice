#### [F. Double-Ended Queue](https://codeforces.com/gym/104380/problem/F)

**题意：** 你现在有一个双端队列，你需要按照给定的顺序一次向里面插入元素，输出最后[l, r]这个区间所有元素的和的最大值

想了好久，但是还好自己写出来了 😭

因为是中间的一段数，所以开始一定有很多数是没用到的，这个长度是 $max(n - r, l - 1)$ ，并且这些数可以按照任意你想要的顺序排列，把它们放到堆里，后面如果比最大的还大就选这个最大的，否则加到这个队列里面

```cpp[]
void solve(){
    int n, l, r;
    cin >> n >> l >> r;
    vector<int> val(n + 1);
    fore(i, 1, n + 1) cin >> val[i];
    int len = max(n - r, l - 1);
    priority_queue<int> pq;
    fore(i, 1, len + 1) pq.push(val[i]);
    int ans = 0;
    fore(i, len + 1, len + r - l + 2) {
        if(val[i] > pq.top())
            ans += val[i];
        else {
            ans += pq.top();
            pq.pop();
            pq.emplace(val[i]);
        }
    }
    cout << ans << endl;
}
```

