#### [D. Sum and Or](https://codeforces.com/gym/106042/problem/D)

**题意：** 给出一个长度位n的数组以及一个x和y，Alice和Bob轮流选一个数，Alice使a[i] = a[i] | x并且最后的总和最小，Bob使a[i] = a[i] & y且最后的总和最大，两人都按照目前最优的情况操作，问最后数组和是多少

我们如果枚举Alice的选择，那么只要可以快速得出Bob的最优解就行了

这个明显可以做到，对于除了Alice选的那一个，可以用一个前缀和后缀维护出来，最后Alice的那个单独算一次就行，统计最小值

```cpp[]
void solve(){
    int n, x, y;
    cin >> n >> x >> y;
    vector<int> a(n + 1);
    int sum = 0, ans = inf;
    fore(i, 1, n + 1) {
        cin >> a[i];
        sum += a[i];
    }
    vector<int> pre(n + 2, -inf), suf(n + 2, -inf);
    fore(i, 1, n + 1) 
        pre[i] = max(pre[i - 1], (a[i] & y) - a[i]);
    for (int i = n; i >= 1; i--)
        suf[i] = max(suf[i + 1], (a[i] & y) - a[i]);
    fore(i, 1, n + 1) {
        int tmp = sum;
        tmp += (a[i] | x) - a[i];
        int maxn = max(pre[i - 1], suf[i + 1]);
        maxn = max(maxn, ((a[i] | x) & y) - (a[i] | x));
        tmp += maxn;
        ans = min(ans, tmp);
    }
    cout << ans << endl;
}
```

#### [C. Trivial Problem](https://codeforces.com/gym/106043/problem/C)

今天第一个自己写的题，好耶！

**题意：** 给出一个有n个数的数组，定义f(k)位所有长度为k的子数组中最大值合起来去取MEX的值，你需要输出所有的 f(x), $x \in [1, n]$ 

思考对于数组中的每个元素，再子序列长度为多少时这个数能在最后被保留，这个可以用单调栈维护，之后我们从小的开始遍历，后面的数能使其保留的最大的k一定不能比前面的大，因为再多也没意义了，所以这个数组是单调的，可以用二分找到最大的cnt[i] = k的下标

```cpp[]
void solve(){
    int n;
    cin >> n;
    vector<int> a(n + 1);
    fore(i, 1, n + 1) cin >> a[i];
    vector<int> cnt(200005);
    vector<int> st(200005);
    int cur = 0;
    fore(i, 1, n + 1) {
        while(cur && a[i] > a[st[cur]]) {
            cnt[a[st[cur]]] = max(i - st[cur - 1] - 1, cnt[a[st[cur]]]);
            cur--;
        }
        st[++cur] = i;
    }
    for (int i = cur; i >= 1; i--) {
        cnt[a[st[i]]] = n - st[i - 1];
    }
    fore(i, 1, 200005) cnt[i] = min(cnt[i - 1], cnt[i]);
    fore(i, 1, n + 1) {
        int l = 0, r = 200005, mid;
        while(l < r) {
            mid = (l + r + 1) >> 1;
            if(cnt[mid] >= i) l = mid;
            else r = mid - 1;
        }
        if(cnt[l] >= i) cout << l + 1 << ' ';
        else cout << 0 << ' ';
    }
    cout << endl;
}
```
