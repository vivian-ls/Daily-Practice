[J. Characters Shift](https://codeforces.com/gym/106032/problem/J)

**题意：** 给出一个长度位n个数组，每个数介于1 ~ m之间，每次有两种操作，第一个是将每一个 a[i] = a[i] % m + 1，第二个数输出a[i]的值，一共q次操作

**知识点：** 环形数组如何处理

观察可以发现一个数最多只能增加到这个数后面第一个奇数的大小，所以我们只用维护每一个数后面第一个个数为奇数的数是谁就行，最后增加的值就是操做次数和下一个奇数间隔的小的哪一个

```cpp[]
void solve(){
    int n, m, q;
    cin >> n >> m >> q;
    vector<int> a(n + 1), cnt(m + 1);
    fore(i, 1, n + 1) {
        cin >> a[i];
        cnt[a[i]] ^= 1;
    }
    vector<int> nxt(m + 1, inf);
    fore(i, 1, m + 1) if (cnt[i]) nxt[i] = 0;
    for (int i = m - 1; i >= 1; i--)
        nxt[i] = min(nxt[i], nxt[i + 1] + 1);
    nxt[m] = min(nxt[m], nxt[1] + 1);
    for (int i = m - 1; i >= 1; i--)
        nxt[i] = min(nxt[i], nxt[i + 1] + 1);
    int op, x, t = 0;
    while(q--) {
        cin >> op;
        if(op == 1) t++;
        else{
            cin >> x;
            int ans = a[x] + min(t, nxt[a[x]]);
            cout << (ans - 1) % m + 1 << endl;
        }
    }
}
```

